---
import { getCollection } from "astro:content";
import { Icon } from "astro-icon/components";

const collection = await getCollection("skills");

const skills = await Promise.all(
  collection.map(async (item) => {
    const { Content } = await item.render();
    return { ...item, Content };
  }),
);
---

<ul class="flex max-w-full list-none flex-wrap gap-4 px-0">
  {
    skills.map((entry) => (
      <li class="group border-tertiary text-tertiary hover:border-accent hover:text-accent flex items-center gap-2 rounded border p-2 transition-colors">
        <Icon
          name={entry.data.icon}
          class="text-tertiary group-hover:text-accent h-5 w-auto transition-colors"
        />
        <p class="m-0 cursor-default">{entry.data.title}</p>
      </li>
    ))
  }
</ul>
