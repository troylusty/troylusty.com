---
import { SITE } from "@consts";
import { Icon } from "astro-icon/components";
---

<header class="mx-auto mb-8 w-full max-w-prose space-y-6 pt-12">
  <nav
    x-data="{ mobileMenuIsOpen: false }"
    x-on:click.away="mobileMenuIsOpen = false"
    class="flex h-12 items-center justify-between"
    aria-label="penguin ui menu"
  >
    <!-- Brand Logo -->
    <a class="group inline-flex items-center" href="/" title={SITE.TITLE}>
      <Icon
        name="icon"
        title={SITE.TITLE}
        class="group-hover:text-tertiary h-8 w-auto transition-colors duration-500 ease-in-out"
      />
      <div
        class="group-hover:text-tertiary ml-2 hidden flex-none text-sm font-bold capitalize transition-colors duration-500 md:visible lg:block"
      >
        Troy Lusty
      </div>
    </a>
    <!-- Desktop Menu -->
    <ul class="hidden items-center gap-4 sm:flex">
      {
        SITE.NAVLINKS.map((i) => (
          <li class="mb-1 last:mb-0">
            <a
              data-navlink
              href={i.href}
              class="text-secondary hover:text-secondary font-bold capitalize underline-offset-2 focus:underline focus:outline-hidden"
              aria-current="page"
            >
              {i.name}
            </a>
          </li>
        ))
      }
      <!-- CTA Button -->
      <li>
        <a
          href={`mailto:${SITE.EMAIL}`}
          class="bg-secondary border-secondary text-primary focus-visible:outline-primary rounded-md border px-4 py-2 text-center text-sm font-medium tracking-wide hover:opacity-75 focus-visible:outline-2 focus-visible:outline-offset-2 active:opacity-100 active:outline-offset-0"
          >Sign Up</a
        >
      </li>
    </ul>
    <!-- Mobile Menu Button -->
    <button
      x-on:click="mobileMenuIsOpen = !mobileMenuIsOpen"
      x-bind:aria-expanded="mobileMenuIsOpen"
      x-bind:class="mobileMenuIsOpen ? 'fixed top-6 right-6 z-20' : null"
      type="button"
      class="text-secondary flex sm:hidden"
      aria-label="mobile menu"
      aria-controls="mobileMenu"
    >
      <svg
        x-cloak
        x-show="!mobileMenuIsOpen"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        aria-hidden="true"
        viewBox="0 0 24 24"
        stroke-width="2"
        stroke="currentColor"
        class="size-6"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path>
      </svg>
      <svg
        x-cloak
        x-show="mobileMenuIsOpen"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        aria-hidden="true"
        viewBox="0 0 24 24"
        stroke-width="2"
        stroke="currentColor"
        class="size-6"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M6 18 18 6M6 6l12 12"></path>
      </svg>
    </button>
    <!-- Mobile Menu -->
    <ul
      x-cloak
      x-show="mobileMenuIsOpen"
      x-transition:enter="transition motion-reduce:transition-none ease-out duration-300"
      x-transition:enter-start="-translate-y-full"
      x-transition:enter-end="translate-y-0"
      x-transition:leave="transition motion-reduce:transition-none ease-out duration-300"
      x-transition:leave-start="translate-y-0"
      x-transition:leave-end="-translate-y-full"
      id="mobileMenu"
      class="divide-outline rounded-b-radius border-outline bg-primary fixed inset-x-0 top-0 z-10 flex max-h-svh flex-col divide-y overflow-y-auto border-b px-6 pt-20 pb-6 sm:hidden"
    >
      <li class="py-4">
        <a
          href="#"
          class="text-primary w-full text-lg font-bold focus:underline"
          aria-current="page">Products</a
        >
      </li>
      <li class="py-4">
        <a
          href="#"
          class="text-on-surface w-full text-lg font-medium focus:underline"
          >Pricing</a
        >
      </li>
      <li class="py-4">
        <a
          href="#"
          class="text-on-surface w-full text-lg font-medium focus:underline"
          >Blog</a
        >
      </li>
      <!-- CTA Button -->
      <li class="mt-4 w-full border-none">
        <a
          href="#"
          class="rounded-radius border-primary bg-primary text-on-primary focus-visible:outline-primary block border px-4 py-2 text-center font-medium tracking-wide hover:opacity-75 focus-visible:outline-2 focus-visible:outline-offset-2 active:opacity-100 active:outline-offset-0"
          >Sign Up</a
        >
      </li>
    </ul>
  </nav>
</header>
